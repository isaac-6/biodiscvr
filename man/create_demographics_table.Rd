% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_demographics.R
\name{create_demographics_table}
\alias{create_demographics_table}
\title{Create Demographics Summary Table}
\usage{
create_demographics_table(
  processed_dataset_list,
  dataset_name,
  output_csv_path = NULL,
  id_col = "RID"
)
}
\arguments{
\item{processed_dataset_list}{List. A single element from the list returned
by \code{preprocess_data()}, containing the filtered 'data' data frame and
potentially other processed data frames for ONE dataset (e.g., \code{preprocessed_data$ADNI}).
The 'data' data frame is expected to contain columns like RID, DX, AGE, sex,
PTEDUCAT, AB, SITE.}

\item{dataset_name}{Character string. The name of the dataset being summarized
(used if writing output).}

\item{output_csv_path}{Character string or NULL. If provided, the full path
to save the demographics table as a CSV file. If the file exists, it will
be overwritten. e.g., output/demo.ADNI.csv}

\item{id_col}{Character string. Name of the unique individual identifier column.
Defaults to "RID".}
}
\value{
A data frame containing the formatted demographic summary table.
Rows represent characteristics (N, sex, Age, Education, AB status, Sites),
and columns represent groups (Total, CU, CI). Returns NULL if the input
'data' dataframe is missing or essential columns are absent.
}
\description{
Generates a summary table of key demographic and clinical variables for the
total cohort, Cognitively Unimpaired (CU, DX=0), and Cognitively Impaired
(CI, DX=1) groups within a processed dataset.
}
\details{
The function calculates:
\itemize{
\item N: Number of unique individuals.
\item sex: N (\%) for each level (assuming codes 1 and 2).
\item Age (baseline): Median \link{Q1, Q3} (Min-Max). Uses the 'AGE' column.
\item Education (years): Median \link{Q1, Q3} (Min-Max). Uses the 'PTEDUCAT' column.
\item Amyloid Positive (\%): Percentage of individuals with AB=1. Uses the 'AB' column.
\item N Sites: Count of unique sites. Uses the 'SITE' column.
}

It handles missing columns gracefully by reporting NA and issuing warnings.
}
