% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess_datasets.R
\name{preprocess_datasets}
\alias{preprocess_datasets}
\title{Preprocess Loaded Datasets Based on Configuration Criteria}
\usage{
preprocess_datasets(checked_data, verbose = TRUE)
}
\arguments{
\item{checked_data}{List. The output from \code{check_and_prepare_data}, which
must contain \verb{$data} (the list of loaded and potentially renamed datasets)
and \verb{$config} (the loaded configuration).}

\item{verbose}{Logical. If TRUE, print messages about the filtering process
and counts of removed individuals/rows. Defaults to TRUE.}
}
\value{
A list structure identical to \code{checked_data$data}, but with data frames
filtered according to the preprocessing rules specified in the configuration.
Individuals not meeting the minimum entry count or group-specific inclusion
criteria are removed.
}
\description{
Filters datasets based on minimum entries per ID and group-specific
inclusion criteria (e.g., AGE, MMSE, GCDR ranges) defined in the
configuration file.
}
\details{
This function performs the following preprocessing steps for each dataset:
\enumerate{
\item Reads preprocessing parameters from \code{checked_data$config$preprocessing}
(e.g., \code{min_entries_per_id}, \code{id_column}, \code{criteria_source_file}).
\item Reads group-specific inclusion criteria (e.g., \code{AGE}, \code{MMSE}, \code{GCDR} ranges)
from \code{checked_data$config$power_params} under keys like \code{CU} and \code{CI}.
\item Filters individuals based on \code{min_entries_per_id} using the data in the
\code{criteria_source_file} (typically 'data').
\item Applies inclusion criteria range filters separately for CU (DX=0) and
CI (DX=1) groups, using the data in \code{criteria_source_file}.
\itemize{
\item Issues warnings if required criteria columns (e.g., AGE, MMSE, GCDR)
are missing in a dataset's \code{criteria_source_file}, skipping the
filter for that specific criterion in that dataset.
}
\item Determines the final set of individuals (IDs) who pass both minimum
entries and their respective group's inclusion criteria.
\item Filters \emph{all} data frames within the dataset (e.g., 'data', 'data_suv_bi')
to retain only data corresponding to the final set of included individuals.
}
}
